<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>年三十</title>
  <link rel="stylesheet" href="indeed.css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
  <img src="./7120.png_860.png" alt="">
  <div id="renwu"></div>
  <div id="says"></div>
</body>
<script type="module">
  import { createPerson } from './person.js'
  async function render() {
    let persons = await createPerson()
    //  console.log(persons);
    let els = []
    Object.keys(persons).forEach(e => {
      els.push(`
     <button id=${e} class='hero'>${e}</button>
     `)
    })
    $('#renwu').html(els.join(''))

    // 点击说话
    $('#renwu').on('click', '.hero', function (e) {
      const person = persons[e.target.id].say()
      $('#says').append(`
        <div class='say'>
          <div class="img">${person.name.slice(0, 1)}</div>
          ${person.name}:
        <span>${person.say}</span>
        </div>
      `)

    })
  }

  render()
</script>

</html>